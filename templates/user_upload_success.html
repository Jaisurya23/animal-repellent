<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Uploaded Images</title>
    <style>
      body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#f0fdf9;color:#0f172a}
      header{display:flex;justify-content:space-between;align-items:center;padding:18px 28px;background:white;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
      .logo{font-weight:800;font-size:20px;color:#0f766e}
      nav a{margin-left:16px;text-decoration:none;color:#6b7280;font-weight:600}
      .container{max-width:900px;margin:24px auto;padding:0 20px}
      .card{background:white;padding:22px;border-radius:14px;box-shadow:0 4px 14px rgba(0,0,0,0.08)}
      h2{margin:0 0 20px;font-size:22px}
      .message{padding:12px;border-radius:6px;margin-bottom:15px;background:#dcfce7;color:#166534;border:1px solid #86efac}
      .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;margin:20px 0}
      .image-card{background:#f9fafb;border:1px solid #e6e7ea;border-radius:10px;overflow:hidden;text-align:center}
      .image-preview{width:100%;height:150px;background:#e0e7ff;display:flex;align-items:center;justify-content:center;font-size:40px}
      .image-info{padding:12px}
      .image-name{font-size:12px;color:#6b7280;word-break:break-all}
      .image-time{font-size:11px;color:#9ca3af;margin-top:6px}
      .btn{display:inline-block;padding:10px 14px;background:#0f766e;color:white;text-decoration:none;border-radius:6px;margin-top:10px;border:none;cursor:pointer}
      .empty{color:#6b7280;font-style:italic;text-align:center;padding:20px}
    </style>
  </head>
  <body>
    <header>
      <div class="logo">Your Uploads</div>
      <nav>
        <a href="/user/dashboard">Dashboard</a>
        <a href="/logout">Logout</a>
      </nav>
    </header>

    <div class="container">
      <div class="card">
        <h2>Uploaded Images</h2>

        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="message">{{ messages[0] }}</div>
          {% endif %}
        {% endwith %}

        {% if uploads %}
          <div class="grid">
            {% for upload in uploads %}
              <div class="image-card">
                <div class="image-preview">üìÅ</div>
                <div class="image-info">
                  <div class="image-name" title="{{ upload['original_name'] }}">{{ upload['original_name'] }}</div>
                  <div class="image-time">{{ upload['timestamp'] }}</div>
                </div>
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="empty">
            <p>No images uploaded yet.</p>
          </div>
        {% endif %}

        <a class="btn" href="/user/upload">Upload Another Image</a>
        <a class="btn" href="/user/dashboard" style="background:#6b7280">Back to Dashboard</a>
      </div>
    </div>
  </body>
</html>
